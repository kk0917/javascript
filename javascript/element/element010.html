<!DOCTYPE html>
<html xml:lang="ja" lang="ja">
<head>
<meta charset="utf-8">
<meta name=”robots” content=”noindex,nofollow”/>
<title>JavaScript TechnicalNote － SAMPLE</title>
<link rel="stylesheet" href="../../common/css/common.css">
<style>
.tabcontainer {
  padding: 5px;
  width: 500px;
  margin: 20px
}
.tabnavigation ul {
  padding: 0;
  margin: 0;
  display: none;
}
.tabnavigation ul li {
  padding: 3px;
  display: inline;
  border: 1px solid #000;
  background-color: #fff;
}
.tabnavigation ul li:hover {
  cursor: pointer;
}
.tabpages {
  position: relative;
  z-index: 2;
  border: 1px solid #000;
  background-color: #fff;
}
.tabpage {
  margin: 0 10px;
}
</style>
</head>

<body>

<header class="baseHeader">
<div>
<h1>JavaScript TECHNIQUE</h1>
<a href="../../chapterList.html">&gt;&nbsp;CHAPTER LIST</a>
</div>
</header>

<h2 id="title">タブでコンテンツを切り替える</h2>

<div id="wrapper">

<div class="tabcontainer">
  <div class="tabnavigation">
    <ul>
      <li id="tabnav_1">Page One</li>
      <li id="tabnav_2">Page Two</li>
      <li id="tabnav_3">Page Three</li>
    </ul>
  </div>
  <div class="tabpages">
    <div class="tabpabe" id="tabpage_1">
      <p>page 1</p>
    </div>
    <div class="tabpage" id="tabpage_2">
      <p>page 2</p>
    </div>
    <div class="tabpage" id="tabpage_3">
      <p>page 3</p>
    </div>
  </div>
</div>
<div class="tabcontainer">
  <div class="tabnavigation">
    <ul>
      <li id="tabnav_4">Page Two One</li>
      <li id="tabnav_5">Page Two Two</li>
    </ul>
  </div>
  <div class="tabpages">
    <div class="tabpage" id="tabpage_4">
      <p>Page 4</p>
    </div>
    <div class="tabpage" id="tabpage_5">
      <p>Page 5</p>
    </div>
  </div>
</div>

</div><!-- /#wrapper -->

<footer class="baseFooter">
<small>Copyright &copy; kkkk. All Rights Reserved.</small>
</footer>

<script>
// 各コンテナの処理
var containers = document.querySelectorAll(".tabcontainer");
for (var i = 0; i < containers.length; i++) {
  // 要素の表示と非表示
  var nav           = containers[i].querySelector(".tabnavigation ul");
  nav.style.display = "block";

  // 現在のタブを選択する
  var navitem = containers[i].querySelector(".tabnavigation ul li");
  var ident   = navitem.id.split("_")[1];
  navitem.parentNode.setAttribute("data-current", ident);
  navitem.setAttribute("style", "background-color: #f00;");

  var pages = containers[i].querySelectorAll(".tabpage");

  for (var j = 0; j < pages.length; j++) {
    pages[j].style.display = "none";
  }

  var tabs = containers[i].querySelectorAll(".tabnavigation ul li");
  for (var k = 0; k < tabs.length; k++) {
    tabs[k].onclick = displayPage;
  }
}

// タブのクリック
function displayPage() {
  var current = this.parentNode.getAttribute("data-current");
  document.getElementById("tabnav_" + current).setAttribute("style", "background-color: #fff");
  document.getElementById("tabpage_" + current).style.display = "none";

  var ident = this.id.split("_")[1];
  this.setAttribute("style", "background-color: #f00;");
  document.getElementById("tabpage_" + ident).style.display = "block";
  this.parentNode.setAttribute("data-current", ident);
}
</script>
</body>
</html>
