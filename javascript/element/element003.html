<!DOCTYPE html>
<html xml:lang="ja" lang="ja">
<head>
<meta charset="utf-8">
<meta name=”robots” content=”noindex,nofollow”/>
<title>JavaScript TechnicalNote － SAMPLE</title>
<link rel="stylesheet" href="../../common/css/common.css">
<style>

</style>
</head>

<body>

<header class="baseHeader">
<div>
<h1>JavaScript TECHNIQUE</h1>
<a href="../../chapterList.html">&gt;&nbsp;CHAPTER LIST</a>
</div>
</header>

<h2 id="title">新しい段落を追加する</h2>

<div id="wrapper">

<select id="choice">
  <option value="--">--</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
</select>
<button type="button" id="btn" name="button">追加</button>
<br>
<div id="div1">
  <p>1. sample</p>
  <p>2. sample</p>
  <p>3. sample</p>
</div>

</div><!-- /#wrapper -->

<footer class="baseFooter">
<small>Copyright &copy; kkkk. All Rights Reserved.</small>
</footer>

<script>
var select = document.getElementById("choice");
var parent = document.getElementById("div1");
var paras  = document.getElementsByTagName("p");

window.onload = function() {
  document.getElementById("btn").onclick = addElem;
};

function addElem() {
  selectNum = select.value;
  newPara   = document.createElement("p");
  // newPara.textContent = "The new paragraph will contain this taxt.";
  text      = document.createTextNode("The new paragraph will contain this taxt.");
  newPara.appendChild(text);

  switch (selectNum) {
    case "1":
      parent.insertBefore(newPara, paras[0]);
      break;
    case "2":
      parent.insertBefore(newPara, paras[1]);
      break;
    case "3":
      parent.insertBefore(newPara, paras[2]);
      break;
    case "4":
      parent.insertBefore(newPara, paras[3]);
      break;
    case "5":
      parent.insertBefore(newPara, paras[4]);
      break;
    default:
      parent.appendChild(newPara);
  }

  addOpt();

  if (paras.length == 6) {
    document.getElementById("btn").disabled = true;
  }
}

function addOpt() {
  var opt         = document.createElement("option");
  opt.value       = paras.length;
  opt.textContent = paras.length;

  select.appendChild(opt);
}
</script>
</body>
</html>
