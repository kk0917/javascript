<!DOCTYPE html>
<html xml:lang="ja" lang="ja">
<head>
<meta charset="utf-8">
<meta name=”robots” content=”noindex,nofollow”/>
<title>JavaScript TechnicalNote － SAMPLE</title>
<link rel="stylesheet" href="../../common/css/common.css">
<style>
body {
  background: transparent url(./img/bg100.png) repeat top left;
}
#wrapper {
	height: 1000px;
}
p {
	width: 100%;
	top: 200px;
	left: 0;
	font-size: 15px;
	text-align: center;
	position: fixed;
}
.scrollBottom {
  color: #ff0000;
  font-weight: bold;
}
</style>
</head>

<body>

<header class="baseHeader">
<div>
<h1>jQuery TECHNIQUE</h1>
<a href="../../chapterList.html">&gt;&nbsp;CHAPTER LIST</a>
</div>
</header>

<h2 id="title">スクロールイベントで値を取得する</h2>

<div id="wrapper">

<p>現在のスクロール値：<span>0</span></p>

</div><!-- /#wrapper -->

<footer class="baseFooter">
<small>Copyright &copy; kkkk. All Rights Reserved.</small>
</footer>

<script src="../jquery-1.12.4.min.js"></script>
<script>
$( window ).on("load scroll resize", function() {
  var scrollTop = $( window ).scrollTop();
  $( "p > span" ).text(scrollTop);

  // ページ要素全体の高さからウィンドウ枠の高さを引いて最下部の到達値を算出
  var posBottom = $( document ).height() - window.innerHeight;

  // ページ最下部到達時と未到達時のスタイル適用／非適用
  if (scrollTop >= posBottom) {
    $( "p" ).addClass( "scrollBottom" );
  } else {
    $( "p" ).removeClass( "scrollBottom" );
  }
});
</script>
</body>
</html>
